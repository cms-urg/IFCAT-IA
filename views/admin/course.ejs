<%- include ../partials/admin-header -%>

<h1><%= course.isNew ? 'Add new course' : 'Edit course' %></h1>

<form action="/admin/courses/<%= course.isNew  ? '' : course.id + '?_method=put' %>" method="post" class="form-horizontal">

    <div class="form-group">
        <label for="code" class="col-sm-2 control-label">Code</label>
        <div class="col-sm-10">
            <input type="text" name="code" value="<%= course.code %>" class="form-control" maxlength="8">
        </div>
    </div>

    <div class="form-group">
        <label for="name" class="col-sm-2 control-label">Name</label>
        <div class="col-sm-10">
            <input type="text" name="name" value="<%= course.name %>" class="form-control">
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">Taught by</label>
        <div class="col-sm-10">
            <select name="instructors[]" multiple size="2" class="form-control">
            <% instructors.forEach(function (instructor) { %>
                <option value="<%= instructor.id %>"<%= course.instructors.indexOf(instructor.id) !== -1 ? 
                    ' selected' : '' %>><%= instructor.name.full %></option> 
            <% }) %>
            </select>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <a href="/admin/courses" class="btn btn-default btn-sm">Cancel</a>
            <button type="submit" class="btn btn-primary btn-sm">Save</button>
        </div>
    </div>

</form>

<%- include ../partials/admin-footer -%>